<!DOCTYPE html><html lang="en"><head><title>Earth Invader</title><script>function SfxrParams(){this.setSettings=function(e){for(var t=0;t<24;t++){this[String.fromCharCode(97+t)]=e[t]||0}if(this["c"]<.01){this["c"]=.01}var n=this["b"]+this["c"]+this["e"];if(n<.18){var r=.18/n;this["b"]*=r;this["c"]*=r;this["e"]*=r}}}function SfxrSynth(){this._params=new SfxrParams;var e,t,n,r,i,s,o,u,a,f,l,c;this.reset=function(){var e=this._params;r=100/(e["f"]*e["f"]+.001);i=100/(e["g"]*e["g"]+.001);s=1-e["h"]*e["h"]*e["h"]*.01;o=-e["i"]*e["i"]*e["i"]*1e-6;if(!e["a"]){l=.5-e["n"]/2;c=-e["o"]*5e-5}u=1+e["l"]*e["l"]*(e["l"]>0?-.9:10);a=0;f=e["m"]==1?0:(1-e["m"])*(1-e["m"])*2e4+32};this.totalReset=function(){this.reset();var r=this._params;e=r["b"]*r["b"]*1e5;t=r["c"]*r["c"]*1e5;n=r["e"]*r["e"]*1e5+12;return((e+t+n)/3|0)*3};this.synthWave=function(h,p){var d=this._params;var v=d["s"]!=1||d["v"],m=d["v"]*d["v"]*.1,g=1+d["w"]*3e-4,y=d["s"]*d["s"]*d["s"]*.1,b=1+d["t"]*1e-4,w=d["s"]!=1,E=d["x"]*d["x"],S=d["g"],x=d["q"]||d["r"],T=d["r"]*d["r"]*d["r"]*.2,N=d["q"]*d["q"]*(d["q"]<0?-1020:1020),C=d["p"]?((1-d["p"])*(1-d["p"])*2e4|0)+32:0,k=d["d"],L=d["j"]/2,A=d["k"]*d["k"]*.01,O=d["a"];var M=e,_=1/e,D=1/t,P=1/n;var H=5/(1+d["u"]*d["u"]*20)*(.01+y);if(H>.8){H=.8}H=1-H;var B=false,j=0,F=0,I=0,q=0,R=0,U,z=0,W,X=0,V,$=0,J,K=0,Q,G,Y=0;var Z=new Array(1024),et=new Array(32);for(var tt=Z.length;tt--;){Z[tt]=0}for(var tt=et.length;tt--;){et[tt]=Math.random()*2-1}for(var tt=0;tt<p;tt++){if(B){return tt}if(C){if(++K>=C){K=0;this.reset()}}if(f){if(++a>=f){f=0;r*=u}}s+=o;r*=s;if(r>i){r=i;if(S>0){B=true}}W=r;if(L>0){Y+=A;W*=1+Math.sin(Y)*L}W|=0;if(W<8){W=8}if(!O){l+=c;if(l<0){l=0}else if(l>.5){l=.5}}if(++F>M){F=0;switch(++j){case 1:M=t;break;case 2:M=n}}switch(j){case 0:I=F*_;break;case 1:I=1+(1-F*D)*2*k;break;case 2:I=1-F*P;break;case 3:I=0;B=true}if(x){N+=T;V=N|0;if(V<0){V=-V}else if(V>1023){V=1023}}if(v&&g){m*=g;if(m<1e-5){m=1e-5}else if(m>.1){m=.1}}G=0;for(var nt=8;nt--;){X++;if(X>=W){X%=W;if(O==3){for(var rt=et.length;rt--;){et[rt]=Math.random()*2-1}}}switch(O){case 0:Q=X/W<l?.5:-.5;break;case 1:Q=1-X/W*2;break;case 2:J=X/W;J=(J>.5?J-1:J)*6.28318531;Q=1.27323954*J+.405284735*J*J*(J<0?1:-1);Q=.225*((Q<0?-1:1)*Q*Q-Q)+Q;break;case 3:Q=et[Math.abs(X*32/W|0)]}if(v){U=z;y*=b;if(y<0){y=0}else if(y>.1){y=.1}if(w){R+=(Q-z)*y;R*=H}else{z=Q;R=0}z+=R;q+=z-U;q*=1-m;Q=q}if(x){Z[$%1024]=Q;Q+=Z[($-V+1024)%1024];$++}G+=Q}G*=.125*I*E;h[tt]=G>=1?32767:G<=-1?-32768:G*32767|0}return p}}function distance(e,t,n,r){dX2=Math.pow(n-e,2);dY2=Math.pow(r-t,2);return Math.sqrt(dX2+dY2)}function collision(e,t){space=e.radius+t.radius;if(distance(e.x,e.y,t.x,t.y)<space){return true}else{return false}}function resize(){if(currentcanvas==="mm"){initMainMenu()}else if(currentcanvas==="ls"){initLevelSelect()}else if(currentcanvas==="gc"){initGame()}}function initGame(){var e=document.createElement("canvas");e.id="game";document.body.appendChild(e);var t=document.getElementById("game");var n=t.getContext("2d");currentcanvas="gc";var r=document.documentElement.clientWidth;var i=document.documentElement.clientHeight;t.width=r;t.height=i;var s=t.width/2;var o=t.height/2;var u=false;var a=false;scoremult=mults[Options.wepType][Options.planType+"score"];var f=false;var l=false;var c=0;var h=[];var p=[];var d=[];var v=[];var m=[];var g=[];var y=Math.floor(Math.random()*30)+30;var b=["air","fire","water","rock","health","invincibility"];var w=[["multishot",winheight-5,"white"],["fastshot",winheight-30,"red"],["splash",winheight-55,"blue"],["penetrate",winheight-80,"brown"],["invincibility",winheight-105,"gold"]];var E=b.indexOf(Options.wepType);b.splice(E,1);var S=new Planet(s,o,"Planet",planTraits[Options.planType].plancolor,planTraits[Options.planType].planstroke,h);var x=new Healthbar(r-310,10,S,false);var T=new Turret(s,45,"Player",[d,v],p,g);var N=new Healthbar(10,10,T,false);var C=[[40,40],[40,o],[40,i],[s,40],[s,i],[r-40,40],[r-40,o],[r-40,i-40]];var k=["fire","air","water","rock"];var L=1;var A=14;var O=function(e,t,n){var r=Math.round(Math.random()*20)+60;var i=new Enemy(e,t,10,10,r,n,h,p,false);i.assignplayer(T);d.push(i);if(L<7){setTimeout(function(){O(e,t,n)},1e3);L+=1}};var M=function(e,t,n){var r=Math.round(Math.random()*20)+60;var i=new Enemy(e,t,30,30,r,n,h,p,true);i.assignplayer(T);var s=new Healthbar(e,t,i,true);m.push(s);d.push(i)};var _=function(e,t,n){var r=Math.round(Math.random()*20)+80;var i=new Enemy(e,t,10,10,r,n,h,p,false);i.assignplayer(S);v.push(i);if(A>0){setTimeout(function(){_(e,t,n)},1e3);A-=1}};t.addEventListener("mousedown",function(e){f=true},false);t.addEventListener("mouseup",function(e){f=false},false);t.addEventListener("mousemove",function(e){var n=t.getBoundingClientRect();mouseX=e.clientX-n.left;mouseY=e.clientY-n.top},false);window.addEventListener("keydown",function(e){keysDown[e.keyCode]=true},false);window.addEventListener("keyup",function(e){delete keysDown[e.keyCode];if(e.keyCode===80&&paused){paused=false}else if(e.keyCode===80&&!paused){paused=true}if(e.keyCode===77&&muted){muted=false}else if(e.keyCode===77&&!muted){muted=true}},false);timer=3;setTimeout(function(){timer=2;var e=new Audio;e.src=sounds.click;e.volume=Options.volume;e.play();setTimeout(function(){timer=1;var e=new Audio;e.src=sounds.click;e.volume=Options.volume;e.play();setTimeout(function(){starting=false;var e=new Audio;e.src=sounds.click;e.volume=Options.volume;e.play();O(s,o+100,Options.planType);_(r/2-40,i/2-40,Options.planType)},1e3)},1e3)},1e3);powerups.fastshot.nrof=wepTraits[Options.wepType].rof;var D=function(){var e=Date.now();var t=e-F;if(!u){P(t/1e3);B()}else if(u&&a){j(true)}else if(u&&!a){j(false)}F=e;requestAnimationFrame(D)};var P=function(e){if(!starting){if(!paused){if(powerups.fastshot.toggle){wepTraits[Options.wepType].rof=powerups.fastshot.frof}else{wepTraits[Options.wepType].rof=powerups.fastshot.nrof}if(f){c++;if(c%wepTraits[Options.wepType].rof==1){var s=mouseX-T.x;var o=mouseY-T.y;var l=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));var E=Math.atan2(o,s);if(Options.wepType==="air"||powerups.multishot.toggle){for(var D=-2;D<=2;D++){var P=new Bullet(T.x,T.y,3,Math.cos(E+.3*D),Math.sin(E+.3*D),wepTraits[Options.wepType].speed,wepTraits[Options.wepType].damage,wepTraits[Options.wepType].color,Options.wepType,T,true);if(D!=2){h.push(P)}}}else{var P=new Bullet(T.x,T.y,3,Math.cos(E),Math.sin(E),wepTraits[Options.wepType].speed,wepTraits[Options.wepType].damage,wepTraits[Options.wepType].color,Options.wepType,T,true)}var H=new Audio;H.src=sounds.player[Options.wepType];H.volume=Options.volume;H.play();h.push(P)}}d.forEach(function(e){e.update(S,n,d)});v.forEach(function(e){e.update(S,n,v)});h.forEach(function(e){e.update(h)});p.forEach(function(e){e.update(p)});m.forEach(function(e){e.update()});g.forEach(function(e){e.update(t)});T.update(e,t);N.update();x.update();S.update();if((Date.now()-q)/1e3>15){q=Date.now();if(d.length<100){L=1;var B=Math.floor(Math.random()*8);O(C[B][0],C[B][1],k[Math.floor(Math.random()*4)])}if(v.length<14){A=14-v.length;_(r/2-40,i/2-40,Options.planType)}}if((Date.now()-R)/1e3>60){R=Date.now();var B=Math.floor(Math.random()*8);M(C[B][0],C[B][1],k[Math.floor(Math.random()*4)])}if((Date.now()-U)/1e3>y){var j=Math.floor(Math.random()*5);var F=new Powerup(Math.floor(Math.random()*winwidth-20)+10,Math.floor(Math.random()*winheight-20)+10,b[j],g,T);g.push(F);U=Date.now();y=Math.floor(Math.random()*30)+30}if(S.health<=0){u=true;a=true}else if(T.health<=0){T.alive=false;u=true}if(!u){time=Math.floor((Date.now()-I)/1e3);score=Math.round(enemiesKilled*S.totaldamage/time*10*scoremult)}for(D=0;D<w.length;D++){if(powerups[w[D][0]].timer>0&&powerups[w[D][0]].toggle){powerups[w[D][0]].timer-=1}else if(powerups[w[D][0]].timer<=0&&powerups[w[D][0]].toggle){powerups[w[D][0]].toggle=false;powerups[w[D][0]].timer=1e3}}}}if(muted){Options.volume=0}else{Options.volume=normvol}};var H=function(){n.clearRect(0,0,t.width,t.height)};var B=function(){H();S.draw(n);d.forEach(function(e){e.draw(n,d)});v.forEach(function(e){e.draw(n,v)});m.forEach(function(e){e.draw(n)});g.forEach(function(e){e.draw(n)});N.draw(n);x.draw(n);n.font="20pt Arial";n.fillStyle="white";n.textAlign="center";n.fillText(time,winwidth/2,30);T.draw(n);h.forEach(function(e){e.draw(n)});p.forEach(function(e){e.draw(n)});var e="#";for(var t=0;t<3;t++){e+=(Math.floor(Math.random()*200)+55).toString(16)}n.fillStyle=e;n.fillRect(mouseX+1,mouseY+4,2,8);n.fillRect(mouseX+4,mouseY+1,8,2);n.fillRect(mouseX+1,mouseY-10,2,8);n.fillRect(mouseX-10,mouseY+1,8,2);n.font="100pt Impact";if(paused){n.fillStyle="green";n.textAlign="center";n.fillText("Paused",winwidth/2,winheight/2)}if(starting){n.fillStyle="white";n.textAlign="center";n.fillText(timer,winwidth/2,winheight/2)}n.font="20pt Impact";if(muted){n.fillStyle="red";n.textAlign="right";n.fillText("Muted",winwidth-5,winheight-5)}for(t=0;t<w.length;t++){if(powerups[w[t][0]].toggle){n.fillStyle=w[t][2];n.textAlign="left";n.fillText(w[t][0].toUpperCase(),5,w[t][1]);n.fillRect(160,w[t][1]-20,200*(powerups[w[t][0]].timer/1e3),20)}}};var j=function(e){H();if(score>highscore){highscore=score;localStorage.setItem("highscore",JSON.stringify(highscore))}n.font="100pt Impact";if(e){n.fillStyle="green";n.textAlign="center";n.fillText("You Win!",winwidth/2,winheight/2)}else if(!e){n.fillStyle="red";n.textAlign="center";n.fillText("Game Over!",winwidth/2,winheight/2)}n.font="75pt Impact";n.fillText("Score: "+score,winwidth/2,winheight/2+110);n.font="30pt Impact";n.fillText("Highscore: "+highscore,winwidth/2,winheight/2+150);n.fillText("Time: "+time+" seconds",winwidth/2,winheight/2+185);n.fillText("Enemies Killed: "+enemiesKilled,winwidth/2,winheight/2+220);n.font="30pt Arial";n.fillStyle="green";n.fillRect(t.width/2-100,t.height-150,200,75);n.fillStyle="black";n.fillText("Replay",winwidth/2,winheight-100);var r="#";for(var i=0;i<3;i++){r+=(Math.floor(Math.random()*200)+55).toString(16)}n.fillStyle=r;n.fillRect(mouseX+1,mouseY+4,2,8);n.fillRect(mouseX+4,mouseY+1,8,2);n.fillRect(mouseX+1,mouseY-10,2,8);n.fillRect(mouseX-10,mouseY+1,8,2)};t.addEventListener("click",function(r){var i=t.offsetLeft;var s=t.offsetTop;var o=r.pageX-i;var f=r.pageY-s;if(f>t.height-150&&f<t.height-150+75&&o>t.width/2-100&&o<t.width/2-100+200&&u){n.clearRect(0,0,t.width,t.height);u=false;a=false;for(o in d){var l=d.indexOf(o);d.splice(l,1)}for(o in v){var l=v.indexOf(o);d.splice(l,1)}for(o in h){var l=h.indexOf(o);d.splice(l,1)}for(o in p){var l=p.indexOf(o);d.splice(l,1)}for(o in m){var l=m.indexOf(o);d.splice(l,1)}S.alive=false;T.alive=false;delete T;delete S;renderops.game=false;document.body.removeChild(e);starting=true;time=0;initLevelSelect()}},false);var F=Date.now();var I=Date.now();var q=Date.now();var R=Date.now();var U=Date.now();D()}function initLevelSelect(){var e=document.getElementById("levelselect");currentcanvas="ls";var t=e.getContext("2d");winwidth=document.documentElement.clientWidth;winheight=document.documentElement.clientHeight;e.width=winwidth;e.height=winheight;renderops.levelselect=true;var n="";e.addEventListener("click",function(n){var r=e.offsetLeft;var o=e.offsetTop;var u=n.pageX-r;var a=n.pageY-o;if(a>e.height-150&&a<e.height-150+75&&u>e.width/2-100&&u<e.width/2-100+200){t.clearRect(0,0,e.width,e.height);renderops.levelselect=false;s();i();initGame()}if(a>200&&a<275&&u>e.width/4/2+100&&u<e.width/4/2+100+200){Options.planType="fire";i()}else if(a>200&&a<275&&u>e.width/2-250&&u<e.width/2-250+200){Options.planType="air";i()}else if(a>200&&a<275&&u>e.width/2+50&&u<e.width/2+50+200){Options.planType="water";i()}else if(a>200&&a<275&&u>e.width/2+50+(e.width/2-250)-(e.width/4/2+100)&&u<e.width/2+50+(e.width/2-250)-(e.width/4/2+100)+200){Options.planType="rock";i()}else if(a>400&&a<475&&u>e.width/4/2+100&&u<e.width/4/2+100+200){Options.wepType="fire";i()}else if(a>400&&a<475&&u>e.width/2-250&&u<e.width/2-250+200){Options.wepType="air";i()}else if(a>400&&a<475&&u>e.width/2+50&&u<e.width/2+50+200){Options.wepType="water";i()}else if(a>400&&a<475&&u>e.width/2+50+(e.width/2-250)-(e.width/4/2+100)&&u<e.width/2+50+(e.width/2-250)-(e.width/4/2+100)+200){Options.wepType="rock";i()}},false);e.addEventListener("mousemove",function(t){var r=e.getBoundingClientRect();x=t.clientX-r.left;y=t.clientY-r.top;mouseX=t.clientX-r.left;mouseY=t.clientY-r.top;if(y>200&&y<275&&x>e.width/4/2+100&&x<e.width/4/2+100+200){n="Weak against Air, resistant to Water."}else if(y>200&&y<275&&x>e.width/2-250&&x<e.width/2-250+200){n="Weak against Rock, resistant to Fire."}else if(y>200&&y<275&&x>e.width/2+50&&x<e.width/2+50+200){n="Weak against Fire, resistant to Rock."}else if(y>200&&y<275&&x>e.width/2+50+(e.width/2-250)-(e.width/4/2+100)&&x<e.width/2+50+(e.width/2-250)-(e.width/4/2+100)+200){n="Weak against Water, resistant to Air."}else if(y>400&&y<475&&x>e.width/4/2+100&&x<e.width/4/2+100+200){n="Effective against Water, less effective against Air. High RoF, does burn damage over time."}else if(y>400&&y<475&&x>e.width/2-250&&x<e.width/2-250+200){n="Effective against Fire, less effective against Rock. Fires in a spread, pushes enemies back."}else if(y>400&&y<475&&x>e.width/2+50&&x<e.width/2+50+200){n="Effective against Rock, less effective against Fire. Slows down enemies, does splash damage."}else if(y>400&&y<475&&x>e.width/2+50+(e.width/2-250)-(e.width/4/2+100)&&x<e.width/2+50+(e.width/2-250)-(e.width/4/2+100)+200){n="Effective against Air, less effective against Water. High damage per shot, penetrates through enemies."}else{n="Planet type: "+Options.planType+". Weapon type: "+Options.wepType+"."}});var r=function(){if(renderops.levelselect){o();requestAnimationFrame(r)}};var i=function(){var e=new Audio;e.src=sounds.click;e.volume=Options.volume;e.play()};var s=function(){t.clearRect(0,0,e.width,e.height)};var o=function(){s();t.font="30pt Arial";t.fillStyle="white";t.textAlign="center";t.fillText("Level Select",winwidth/2,50);t.fillStyle="green";t.fillRect(e.width/2-100,e.height-150,200,75);t.fillStyle="black";t.fillText("Play",winwidth/2,winheight-100);t.font="20pt Arial";t.fillStyle="white";t.textAlign="center";t.fillText("Select a Planet Type",winwidth/2,150);t.fillStyle="red";t.fillRect(e.width/4/2+100,200,200,75);t.fillStyle="black";t.fillText("Fire",e.width/4/2+200,250);if(Options.planType==="fire"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.fillStyle="white";t.fillRect(e.width/2-250,200,200,75);t.fillStyle="black";t.fillText("Air",e.width/2-150,250);if(Options.planType==="air"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.fillStyle="blue";t.fillRect(e.width/2+50,200,200,75);t.fillStyle="black";t.fillText("Water",e.width/2+150,250);if(Options.planType==="water"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.fillStyle="brown";t.fillRect(e.width/2+50+(e.width/2-250)-(e.width/4/2+100),200,200,75);t.fillStyle="black";t.fillText("Rock",e.width/2+50+(e.width/2-250)-(e.width/4/2+100)+100,250);if(Options.planType==="rock"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.font="20pt Arial";t.fillStyle="white";t.textAlign="center";t.fillText("Select a Weapon Type",winwidth/2,350);t.fillStyle="red";t.fillRect(e.width/4/2+100,400,200,75);t.fillStyle="black";t.fillText("Fire",e.width/4/2+200,450);if(Options.wepType==="fire"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.fillStyle="white";t.fillRect(e.width/2-250,400,200,75);t.fillStyle="black";t.fillText("Air",e.width/2-150,450);if(Options.wepType==="air"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.fillStyle="blue";t.fillRect(e.width/2+50,400,200,75);t.fillStyle="black";t.fillText("Water",e.width/2+150,450);if(Options.wepType==="water"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.fillStyle="brown";t.fillRect(e.width/2+50+(e.width/2-250)-(e.width/4/2+100),400,200,75);t.fillStyle="black";t.fillText("Rock",e.width/2+50+(e.width/2-250)-(e.width/4/2+100)+100,450);if(Options.wepType==="rock"){t.strokeStyle==planTraits[Options.planType].planstroke;t.stroke()}t.font="20pt Arial";t.fillStyle="white";t.textAlign="center";t.fillText(n,winwidth/2,525);var r="#";for(var i=0;i<3;i++){r+=(Math.floor(Math.random()*200)+55).toString(16)}t.fillStyle=r;t.fillRect(mouseX+1,mouseY+4,2,8);t.fillRect(mouseX+4,mouseY+1,8,2);t.fillRect(mouseX+1,mouseY-8,2,8);t.fillRect(mouseX-8,mouseY+1,8,2)};r()}function initMainMenu(){initStars();var e=document.getElementById("mainmenu");currentcanvas="mm";var t=e.getContext("2d");winwidth=document.documentElement.clientWidth;winheight=document.documentElement.clientHeight;e.width=winwidth;e.height=winheight;renderops.main=true;e.addEventListener("mousemove",function(t){var n=e.getBoundingClientRect();mouseX=t.clientX-n.left;mouseY=t.clientY-n.top},false);var n=[];n.push({color:"red",width:200,height:75,top:winheight/2+50,left:winwidth/2-100});e.addEventListener("click",function(r){var s=e.offsetLeft;var o=e.offsetTop;var u=r.pageX-s;var a=r.pageY-o;n.forEach(function(n){if(a>n.top&&a<n.top+n.height&&u>n.left&&u<n.left+n.width){t.clearRect(0,0,e.width,e.height);renderops.main=false;i();var r=new Audio;r.src=sounds.click;r.volume=Options.volume;r.play();initLevelSelect()}})},false);var r=function(){if(renderops.main){s();requestAnimationFrame(r)}};var i=function(){t.clearRect(0,0,e.width,e.height)};var s=function(){i();t.font="30pt Arial";t.fillStyle="white";t.textAlign="center";t.fillText("Earth Invader",winwidth/2,50);t.font="20pt Arial";t.fillText("WASD to move",winwidth/2,winheight-55);t.fillText("Click and hold to shoot",winwidth/2,winheight-30);t.fillText("M to mute, P to pause",winwidth/2,winheight-5);n.forEach(function(e){t.fillStyle=e.color;t.fillRect(e.left,e.top,e.width,e.height)});t.fillStyle="black";t.fillText("Start",winwidth/2,winheight/2+100);var e="#";for(var r=0;r<3;r++){e+=(Math.floor(Math.random()*200)+55).toString(16)}t.fillStyle=e;t.fillRect(mouseX+1,mouseY+4,2,8);t.fillRect(mouseX+4,mouseY+1,8,2);t.fillRect(mouseX+1,mouseY-8,2,8);t.fillRect(mouseX-8,mouseY+1,8,2)};r()}function initStars(){var e=document.getElementById("stars");var t=e.getContext("2d");var n=document.documentElement.clientWidth;var r=document.documentElement.clientHeight;e.width=n;e.height=r;var i=[];var s=["blue","white","red","yellow"];for(var o=0;o<r;o+=Math.round(Math.random()*100)+1){for(var u=0;u<n;u+=Math.round(Math.random()*100)+1){var a=s[Math.round(Math.random()*4)];var f=new Star(u,o,a);i.push(f)}}for(var u=0;u<n;u+=Math.round(Math.random()*100)+1){for(var o=0;o<r;o+=Math.round(Math.random()*100)+1){var a=s[Math.round(Math.random()*4)];var f=new Star(u,o,a);i.push(f)}}render=function(){i.forEach(function(e){e.draw(t)})};render()}var synth=new SfxrSynth;window["jsfxr"]=function(e){synth._params.setSettings(e);var t=synth.totalReset();var n=new Uint8Array(((t+1)/2|0)*4+44);var r=synth.synthWave(new Uint16Array(n.buffer,44),t)*2;var i=new Uint32Array(n.buffer,0,44);i[0]=1179011410;i[1]=r+36;i[2]=1163280727;i[3]=544501094;i[4]=16;i[5]=65537;i[6]=44100;i[7]=88200;i[8]=1048578;i[9]=1635017060;i[10]=r;r+=44;var s=0,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="data:audio/wav;base64,";for(;s<r;s+=3){var a=n[s]<<16|n[s+1]<<8|n[s+2];u+=o[a>>18]+o[a>>12&63]+o[a>>6&63]+o[a&63]}return u};var currentcanvas;var keysDown={};var mouseX=0;var mouseY=0;var soundarray=[];var winheight=0;var winwidth=0;var score=0;var enemiesKilled=1;var time=0;var scoremult=1;var paused=false;var muted=false;var starting=true;var timer=3;var highscore=localStorage.getItem("highscore");var sprite_player=new Image;var sprite_fire=new Image;var sprite_rock=new Image;var sprite_water=new Image;var sprite_air=new Image;var boom_fire=new Image;var boom_rock=new Image;var boom_water=new Image;var boom_air=new Image;sprite_player.src="assets/Shooter.png;";sprite_fire.src="assets/Fire-Sprite.png;";sprite_rock.src="assets/Rock-Sprite.png;";sprite_water.src="assets/Water-Sprite.png;";sprite_air.src="assets/Air-Sprite.png;";boom_fire.src="assets/Fire-Boom.png;";boom_rock.src="assets/Rock-Boom.png;";boom_water.src="assets/Water-Boom.png;";boom_air.src="assets/Air-Boom.png;";var renderops={main:false,levelselect:false,game:false};var Options={planType:"fire",wepType:"fire",volume:.1};var powerups={multishot:{toggle:false,timer:1e3},fastshot:{toggle:false,nrof:15,frof:7,timer:1e3},penetrate:{toggle:false,timer:1e3},splash:{toggle:false,timer:1e3},invincibility:{toggle:false,timer:1e3}};var normvol=Options.volume;var sounds={player:{fire:jsfxr([3,.3758,.0389,.4992,.56,.5291,,,.0115,.1529,.2918,-.2967,-.849,-.2789,,-.3001,-.1337,.4522,.9619,.0049,-.543,.0878,.0741,.5]),air:jsfxr([2,,.242,,.2856,.5935,.2,-.1545,,,,,,.4263,-.3038,,,,1,,,.1972,,.5]),water:jsfxr([3,,.14,.5702,.4047,.97,,,,,,.0856,.7404,,,.4366,,,1,,,,,.5]),rock:jsfxr([2,,.1486,.0618,.0313,.3235,.0103,-.4143,,,,,,.2042,.1735,,,,1,,,,,.5]),death:jsfxr([0,.0344,.2434,7e-4,.6978,.5593,,9e-4,-.1852,.188,,-.8373,.5945,-.8342,-7e-4,,3e-4,-.0709,.9177,-.1776,.7897,,1e-4,.5]),hit:jsfxr([1,,.0125,,.1674,.6682,,-.3997,,,,,,,,,,,1,,,,,.5]),shielddown:jsfxr([3,,.2837,.5598,.4561,.0189,,,,,,,,,,,,,1,,,,,.5]),shieldback:jsfxr([1,.9203,.7129,.2955,.369,.5223,,-.0713,.1758,.7845,.9862,-.968,-.8643,.7915,-.0807,,-.3867,-.0029,.9063,.0015,,.0282,-.0049,.5])},planet:{death:jsfxr([3,,.2159,.7801,.97,.07,,,,,,,.89,,,,,.32,.79,,.11,.4,-.36,.5]),hit:jsfxr([3,,.0112,,.31,.0875,,-.0122,,,,.422,.8441,,,,.1835,-.0441,1,,,,,.5])},fire:{hit:jsfxr([2,,.011,,.2299,.6347,.0408,-.4464,.2178,.0469,.0193,.0419,.0302,.0684,.0369,.0177,-.0717,.0732,.9868,-.0122,.0097,.074,-.0184,.5]),shoot:jsfxr([1,,.1636,.2996,.2184,.5588,.2816,-.2181,,,,,,.2688,.0118,,.1677,-.0588,1,,,,,.5]),death:jsfxr([3,,.3766,.2533,.4427,.1865,,-.2766,,,,-.2171,.8871,,,.7384,.5009,-.2509,1,,,,,.5])},air:{hit:jsfxr([1,,.0536,,.2621,.631,,-.4006,,,,,,,,,,,1,,,,,.5]),shoot:jsfxr([2,,.1136,.1444,.3466,.9639,.2139,-.2432,,,,,,.8125,-.3376,,,,1,,,.2307,,.5]),death:jsfxr([3,,.2042,.2207,.4078,.1535,,.2536,,,,.0739,.7854,,,,-.1692,-.2249,1,,,,,.5])},water:{hit:jsfxr([1,,.01,,.2682,.7035,,-.367,,,,,,,,,,,1,,,.1467,,.5]),shoot:jsfxr([0,,.3498,,.2535,.3297,,.2893,,,,,,.0596,,,,,.8007,,,.0934,,.5]),death:jsfxr([3,,.3065,.6898,.3659,.042,,.2063,,,,-.6731,.6848,,,,,,1,,,,,.5])},rock:{hit:jsfxr([3,,.0129,,.28,.2587,,-.5081,,,,,,,,,,,1,,,,,.5]),shoot:jsfxr([2,.0518,.19,.31,.3405,.3398,.0424,-.4251,.0355,.1033,.1365,-.0342,.0407,.0517,-.0559,.0628,.3034,-.2626,1,.0017,.0805,.0027,-.0163,.5]),death:jsfxr([3,,.2477,.2528,.4555,.0385,,.044,,,,-.247,.7443,,,,,,1,,,,,.5])},powerup:jsfxr([0,.0474,.1545,.4804,.518,.4414,.1353,-.0068,.0824,,,-.0384,.0189,.0616,.0708,.115,.0828,.0371,.8901,-.1333,.0065,.0344,.0251,.5]),click:jsfxr([0,,.1601,,.0198,.586,,,,,,,,.5755,,,,,1,,,.1,,.5])};var planTraits={fire:{plancolor:"#F72A0A",planstroke:"#CF2308"},air:{plancolor:"#DEDEDE",planstroke:"#BFBFBF"},water:{plancolor:"#076DF2",planstroke:"#0658C4"},rock:{plancolor:"#6B4303",planstroke:"#593802"}};var wepTraits={fire:{color:"orange",rof:5,speed:15,damage:5},air:{color:"ghostwhite",rof:50,speed:15,damage:20},water:{color:"deepskyblue",rof:20,speed:20,damage:10},rock:{color:"saddlebrown",rof:30,speed:10,damage:25}};var enemyTraits={fire:{img:sprite_fire,boom:boom_fire,speed:4,rof:20,health:50,damage:10,bulletColor:"orange"},air:{img:sprite_air,boom:boom_air,speed:5,rof:100,health:25,damage:5,bulletColor:"ghostwhite"},water:{img:sprite_water,boom:boom_water,speed:3,rof:100,health:75,damage:15,bulletColor:"deepskyblue"},rock:{img:sprite_rock,boom:boom_rock,speed:2,rof:100,health:100,damage:20,bulletColor:"saddlebrown"}};var mults={fire:{waterdmg:1.5,waterscore:.5,airdmg:.5,airscore:1.5,firedmg:1,firescore:1,rockdmg:1,rockscore:1},air:{waterdmg:1,waterscore:1,airdmg:1,airscore:1,firedmg:1.5,firescore:.5,rockdmg:.5,rockscore:1.5},water:{waterdmg:1,waterscore:1,airdmg:1,airscore:1,firedmg:.5,firescore:1.5,rockdmg:1.5,rockscore:.5},rock:{waterdmg:.5,waterscore:1.5,airdmg:1.5,airscore:.5,firedmg:1,firescore:1,rockdmg:1,rockscore:1}};Healthbar=function(e,t,n,r){this.x=e;this.y=t;this.owner=n;this.maxhealth=n.health;this.health=n.health;this.healthpercent=1;this.name=n.name;this.playsound=true;this.ismini=r;this.alive=true;if(n.shield){this.maxshield=n.shield;this.shield=n.shield;this.shieldpercent=1}};Healthbar.prototype.update=function(){this.health=this.owner.health;this.healthpercent=this.health/this.maxhealth;this.alive=this.owner.alive;if(this.shield!==false&&this.owner.shield!==false){this.shield=this.owner.shield;this.shieldpercent=this.shield/this.maxshield}if(!this.alive){delete this}};Healthbar.prototype.draw=function(e){if(this.alive){e.beginPath();e.fillStyle="red";if(this.ismini){e.fillRect(this.owner.x-50,this.owner.y-45,100*this.healthpercent,5)}else{e.fillRect(this.x,this.y,300*this.healthpercent,20)}e.font="12pt Arial";e.fillStyle="white";e.textAlign="center";if(!this.ismini){e.fillText(this.name,this.x+150,this.y+15)}if(this.shield>0){e.fillStyle="blue";if(this.ismini){e.fillRect(this.owner.x-50,this.owner.y-35,100*this.shieldpercent,5)}else{e.fillRect(this.x,this.y+30,300*this.shieldpercent,20)}e.font="12pt Arial";e.fillStyle="white";e.textAlign="center";if(!this.ismini){e.fillText("Shields",this.x+150,this.y+45)}this.playsound=true}else if(this.shield===0){if(this.playsound){var t=new Audio;t.src=sounds.player.shielddown;t.volume=Options.volume;t.play();this.playsound=false}e.fillStyle="white";e.font="12pt Arial";e.textAlign="center";if(!this.ismini){e.fillText("Shields down!",this.x+150,this.y+45)}}else if(this.shield<=0){e.fillStyle="white";e.font="12pt Arial";e.textAlign="center";if(!this.ismini){e.fillText("Shields down!",this.x+150,this.y+45)}}e.closePath()}};Enemy=function(e,t,n,r,i,s,o,u,a){this.x=e;this.y=t;this.width=n;this.height=r;this.isboss=a;this.splash=false;this.type=s;this.speed=enemyTraits[this.type].speed;this.orbit=i;this.health=enemyTraits[this.type].health;this.damage=enemyTraits[this.type].damage;this.damagemult=1;this.rof=enemyTraits[this.type].rof;this.count=0;this.trigger=Math.floor(Math.random()*this.rof);this.pBullets=o;this.eBullets=u;this.burncount=0;this.slowcount=0;this.radius=this.width*1.2;this.alive=true;this.explode=false;this.rotation=0;if(this.isboss){this.health*=10;this.speed=3;this.damage*=3}this.slowspeed=this.speed/2;this.normspeed=this.speed};Enemy.prototype.assignplayer=function(e){this.player=e};Enemy.prototype.update=function(e,t,n){if(!(this.player===undefined)&&this.alive){this.count=(this.count+1)%this.rof;var t=t;var r=n;this.playerX=this.player.x;this.playerY=this.player.y;var i=this.playerX-this.x;var s=this.playerY-this.y;var o=Math.sqrt(i*i+s*s);i=i/o;s=s/o;this.rotation=Math.atan2(s,i);if(this.slowcount>0){this.slowcount--;this.speed=this.slowspeed}else{this.speed=this.normspeed}if(this.burncount>0){this.burncount--;this.health--}if(this.count==this.trigger&&this.player.name!=="Planet"){if(this.isboss){var u=new Bullet(this.x,this.y,6,i,s,8,this.damage,enemyTraits[this.type].bulletColor,Options.planType,this,false)}else{var u=new Bullet(this.x,this.y,3,i,s,8,this.damage,enemyTraits[this.type].bulletColor,Options.planType,this,false)}var a=new Audio;a.src=sounds[this.type].shoot;a.volume=Options.volume;a.play();this.eBullets.push(u)}var f=true;if((o>this.orbit+5||this.player.shield<=0)&&this.player!==e){this.angle=Math.atan2(s,i)+Math.PI;this.x+=i*this.speed;this.y+=s*this.speed}else if(o<this.orbit-5){this.angle=Math.atan2(s,i)+Math.PI;this.x-=i*this.speed*2;this.y-=s*this.speed*2}else{this.angle-=.02;this.x=o*Math.cos(this.angle)+this.player.x;this.y=o*Math.sin(this.angle)+this.player.y}for(var l=0;l<this.pBullets.length;l++){this.damagemult=mults[Options.wepType][this.type+"dmg"];if(this.pBullets[l].alive&&collision(this,this.pBullets[l])&&this.health>0){if(!this.pBullets[l].penetrate){this.pBullets[l].alive=false;this.health-=wepTraits[Options.wepType].damage*this.damagemult}else if(this.pBullets[l].penetrate&&this!==this.pBullets[l].currentenemy){this.pBullets[l].currentenemy=this;this.pBullets[l].penetratecount+=1;this.health-=wepTraits[Options.wepType].damage*this.damagemult}if(Options.wepType==="water"||powerups.splash.toggle){r.forEach(function(e){if(e!==this){if(distance(this.x,this.y,e.x,e.y)<=250){e.slowcount=100;e.health-=wepTraits[Options.wepType].damage*this.damagemult;var n=new Audio;n.src=sounds.water.death;n.volume=Options.volume;n.play();t.save();t.translate(this.x,this.y);t.rotate(this.rotation);t.drawImage(enemyTraits.water.boom,-24,-24,48,48);t.restore()}}});this.slowcount=100}if(Options.wepType==="fire"){this.burncount=100}if(Options.wepType==="air"){this.angle=Math.atan2(s,i)+Math.PI;this.x-=i*this.speed*30;this.y-=s*this.speed*30}var c=new Audio;c.src=sounds[this.type].hit;c.volume=Options.volume;c.play()}else if(this.pBullets[l].alive&&collision(this,this.pBullets[l])){this.alive=false;enemiesKilled+=1;this.explode=1;var h=new Audio;h.src=sounds[this.type].death;h.volume=Options.volume;h.play()}}}};Enemy.prototype.draw=function(e,t){if(this.alive){e.save();e.translate(this.x,this.y);e.rotate(this.rotation);if(this.splash){}if(this.isboss){e.drawImage(enemyTraits[this.type].img,-18,-18,36,36)}else{e.drawImage(enemyTraits[this.type].img,-6,-6)}e.restore()}else if(this.explode){e.save();e.translate(this.x,this.y);e.rotate(this.rotation);if(this.isboss){e.drawImage(enemyTraits[this.type].boom,-24,-24,48,48)}else{e.drawImage(enemyTraits[this.type].boom,-14,-14,28,28)}e.restore();this.explode=(this.explode+1)%7}else if(!this.alive&&!this.boom){var n=t.indexOf(this);t.splice(n,1)}};Bullet=function(e,t,n,r,i,s,o,u,a,f,l){this.x=e;this.y=t;this.radius=n;this.dx=r;this.dy=i;this.speed=s;this.damage=o;this.name="bullet";this.color=u;this.birth=Date.now();this.alive=true;this.owner=f;this.playershot=l;this.rotation=0;this.penetratecount=0;this.currentenemy=0;this.penetrate=false;this.type=a;if((this.type==="rock"||powerups.penetrate.toggle)&&this.playershot){this.penetrate=true;this.radius=4}};Bullet.prototype.update=function(e){if(this.alive){if(this.x<0||this.x>winwidth||this.y<0||this.y>winheight){this.alive=false;var t=e.indexOf(this);e.splice(t,1)}else{this.x+=this.speed*this.dx;this.y+=this.speed*this.dy}if(this.type==="fire"&&distance(this.x,this.y,this.owner.x,this.owner.y)>250&&this.playershot){this.alive=false;var t=e.indexOf(this);e.splice(t,1)}if(this.penetratecount>3){this.alive=false;var t=e.indexOf(this);e.splice(t,1)}}else{var t=e.indexOf(this);e.splice(t,1)}};Bullet.prototype.draw=function(e){if(this.alive){e.save();e.translate(this.x,this.y);e.beginPath();e.fillStyle=this.color;e.arc(0,0,this.radius,0,2*Math.PI);e.fill();e.restore()}};Star=function(e,t,n){this.x=e;this.y=t;this.color=n};Star.prototype.draw=function(e){e.beginPath();e.arc(this.x,this.y,1,0,2*Math.PI,false);e.fillStyle=this.color;e.fill()};Powerup=function(e,t,n,r,i){this.x=e;this.y=t;this.type=n;this.name="powerup";this.color="white";if(this.type==="air"){this.name="MULTISHOT";this.color="white"}else if(this.type==="fire"){this.name="FASTSHOT";this.color="red"}else if(this.type==="water"){this.name="SPLASHSHOT";this.color="blue"}else if(this.type==="rock"){this.name="PENETRATE";this.color="brown"}else if(this.type==="health"){this.name="HEALTH";this.color="maroon"}else if(this.type==="invincibility"){this.name="INVINCIBILITY";this.color="gold"}this.radius=5;this.alive=true;this.powerups=r;this.player=i;this.targetx=Math.floor(Math.random()*(winwidth-20)+10);this.targety=Math.floor(Math.random()*(winwidth-20)+10)};Powerup.prototype.update=function(e){if(this.alive){this.playerX=this.player.x;this.playerY=this.player.y;var t=this.playerX-this.x;var n=this.playerY-this.y;var r=Math.sqrt(t*t+n*n);t=t/r;n=n/r;if(this.x>0&&this.y>0&&this.x<e.width&&this.y<e.height){if(r<20){this.angle=Math.atan2(n,t)+Math.PI;this.x-=t;this.y-=n}else{var i=this.targetx-this.x;var s=this.targety-this.y;var o=Math.sqrt(Math.pow(i,2)+Math.pow(s,2));this.x+=i/o;this.y+=s/o}if(Math.abs(this.x+this.targetx)<20&&Math.abs(this.y+this.targety)<20){this.targetx=Math.floor(Math.random()*(winwidth-20)+10);this.targety=Math.floor(Math.random()*(winwidth-20)+10)}}}else{var u=this.powerups.indexOf(this);this.powerups.splice(u,1)}};Powerup.prototype.draw=function(e){if(this.alive){e.save();e.translate(this.x,this.y);e.beginPath();e.fillStyle=this.color;e.arc(0,0,this.radius,0,2*Math.PI);e.fill();e.font="12pt Arial";e.textAlign="center";e.fillText(this.name,this.x,this.y-15);e.restore()}};Turret=function(e,t,n,r,i,s){this.x=e;this.y=t;this.speed=200;this.health=500;this.shield=200;this.direction=0;this.name=n;this.dmgcount=0;this.powerups=s;this.radius=40;this.eArrays=r;this.eBullets=i;this.alive=true;this.regen=false};Turret.prototype.checkCollision=function(e,t,n){for(var r=0;r<e.length;r++){if(n&&collision(this,e[r])){var i=new Audio;i.src=sounds.powerup;i.volume=Options.volume;i.play();if(e[r].type==="air"){if(!powerups.multishot.toggle){powerups.multishot.toggle=true}else{powerups.multishot.timer=1e3}}else if(e[r].type==="fire"){if(!powerups.fastshot.toggle){powerups.fastshot.toggle=true}else{powerups.fastshot.timer=1e3}}else if(e[r].type==="water"){if(!powerups.splash.toggle){powerups.splash.toggle=true}else{powerups.splash.timer=1e3}}else if(e[r].type==="rock"){if(!powerups.penetrate.toggle){powerups.penetrate.toggle=true}else{powerups.penetrate.timer=1e3}}else if(e[r].type==="health"){this.health=500;this.shield=200}else if(e[r].type==="invincibility"){if(!powerups.invincibility.toggle){powerups.invincibility.toggle=true}else{powerups.invincibility.timer=1e3}}e[r].alive=false}else{if(e[r].alive&&collision(this,e[r])){if(this.shield>0&&!powerups.invincibility.toggle){if(t){this.shield-=e[r].damage}else{this.shield-=20}if(!this.regen){this.dmgcount=120}var s=new Audio;s.src=sounds.player.hit;s.volume=Options.volume;s.play()}else if(this.shield<=0&&this.health>0&&!powerups.invincibility.toggle){if(t){this.health-=20}else{this.health-=e[r].damage}var s=new Audio;s.src=sounds.player.hit;s.volume=Options.volume;s.play()}else if(this.shield<=0&&this.health<=0){var o=new Audio;o.src=sounds.player.death;o.volume=Options.volume;o.play()}if(e[r].name==="bullet"){e[r].alive=false}}}}};Turret.prototype.update=function(e,t){if(65 in keysDown){if(this.x>0){this.x-=this.speed*e}else{this.x=t.width}}if(87 in keysDown){if(this.y>0){this.y-=this.speed*e}else{this.y=t.height}}if(68 in keysDown){if(this.x<t.width){this.x+=this.speed*e}else{this.x=0}}if(83 in keysDown){if(this.y<t.height){this.y+=this.speed*e}else{this.y=0}}var n=this.findDirection(mouseX,mouseY);for(var r=0;r<this.eArrays.length;r++){this.checkCollision(this.eArrays[r],false,false)}this.checkCollision(this.eBullets,true,false);this.checkCollision(this.powerups,false,true);if(this.dmgcount>0){this.dmgcount--}if(this.shield<200&&this.shield>=0&&this.dmgcount==0){this.shield+=.25;this.regen=false}if(this.shield>0){this.radius=40}if(this.shield<=0){this.radius=10}if(this.shield<0){this.shield=0;this.dmgcount=540;this.regen=true}if(this.health<0){this.health=0;this.alive=false}this.direction+=n};Turret.prototype.draw=function(e){if(this.alive){e.save();e.translate(this.x,this.y);e.rotate(this.direction);var t="#";for(var n=0;n<3;n++){t+=(Math.floor(Math.random()*200)+55).toString(16)}e.beginPath();e.arc(0,0,40,0,2*Math.PI,false);e.lineWidth=4;e.strokeStyle=t;if(this.shield>0){e.stroke()}e.closePath();e.drawImage(sprite_player,-12,-12);e.restore()}};Turret.prototype.findDirection=function(e,t){var n=this.x-e;var r=this.y-t;var i=Math.atan2(r,n);var s=i-this.direction;return s};Planet=function(e,t,n,r,i,s){this.x=e;this.y=t;this.health=5e3;this.shield=3e3;this.name=n;this.radius=100;this.color=r;this.bullets=s;this.stroke=i;this.alive=true;this.damagemult=1;this.totaldamage=1;this.dmgcount=0;this.regen=false};Planet.prototype.update=function(){for(var e=0;e<this.bullets.length;e++){this.damagemult=mults[Options.wepType][Options.planType+"dmg"];if(this.bullets[e].alive&&collision(this,this.bullets[e])&&this.shield>0){this.shield-=wepTraits[Options.wepType].damage*this.damagemult;this.totaldamage+=wepTraits[Options.wepType].damage*this.damagemult;if(!this.regen){this.dmgcount=180}this.bullets[e].alive=false;var t=new Audio;t.src=sounds.planet.hit;t.volume=Options.volume;t.play()}else if(this.bullets[e].alive&&collision(this,this.bullets[e])&&this.health>0){this.radius=70;this.health-=wepTraits[Options.wepType].damage*this.damagemult;this.totaldamage+=wepTraits[Options.wepType].damage*this.damagemult;this.bullets[e].alive=false;var t=new Audio;t.src=sounds.planet.hit;t.volume=Options.volume;t.play()}else if(this.bullets[e].alive&&collision(this,this.bullets[e])){this.bullets[e].alive=false;this.alive=false;var n=new Audio;n.src=sounds.planet.death;n.volume=Options.volume;n.play()}}if(this.dmgcount>0){this.dmgcount--}if(this.shield<3e3&&this.shield>=0&&this.dmgcount==0){this.shield+=.25;this.regen=false}if(this.shield>0){this.radius=135}if(this.shield<=0){this.radius=70}if(this.shield<0){this.shield=0;this.dmgcount=1500;this.regen=true}if(this.health<=0){this.health=0;this.alive=true}};Planet.prototype.draw=function(e){if(this.alive){e.beginPath();e.arc(this.x,this.y,70,0,2*Math.PI,false);e.fillStyle=this.color;e.fill();e.lineWidth=5;e.strokeStyle=this.stroke;e.stroke();var t="#";for(var n=0;n<3;n++){t+=(Math.floor(Math.random()*200)+55).toString(16)}e.beginPath();e.arc(this.x,this.y,135,0,2*Math.PI,false);e.lineWidth=7;e.strokeStyle=t;if(this.shield>0){e.stroke()}e.closePath()}}</script><style>canvas{position: absolute;cursor: none;}</style></head><body onload="initMainMenu()" onresize="resize()" onorientationchange="resize()" style="margin: 0;padding: 0;background-color: black;overflow: hidden;"><canvas id="stars"></canvas><canvas id="mainmenu"></canvas><canvas id="levelselect"></canvas></body></html>